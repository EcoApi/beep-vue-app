(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e4549"],{9084:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("Layout",{attrs:{title:e.$t("password_recovery_title")}},[t("v-form",{ref:"form",staticStyle:{width:"100%"},on:{submit:function(r){return r.preventDefault(),e.forgotPassword(r)}},model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[e.reminderSent?t("div",[t("v-card-text",[t("v-alert",{attrs:{text:"",prominent:"",dense:"",color:"green"}},[e._v(" "+e._s(e.$t("password_recovery_reminder_success"))+" ")])],1),t("v-divider",{staticClass:"mx-3"}),t("v-card-text",[t("router-link",{attrs:{to:{name:"password-forgot",query:{email:e.emailToSubmit}}}},[e._v(" "+e._s(e.$t("password_recovery_code_not_received"))+" ")])],1)],1):e._e(),e.reminderSent?e._e():t("div",[t("v-card-text",[e._l(e.errors,(function(r){return t("v-alert",{key:r.name,attrs:{type:"error",text:"",prominent:"",dense:"",color:"red"}},[e._v(" "+e._s(r.errorMessage)+" ")])})),t("v-text-field",{class:e.fieldErrors.email?"error--text":"",attrs:{label:""+e.$t("email"),type:"email",rules:e.emailRules},model:{value:e.emailToSubmit,callback:function(r){e.emailToSubmit="string"===typeof r?r.trim():r},expression:"emailToSubmit"}})],2),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{text:"",type:"submit",disabled:!e.valid}},[e._v(e._s(e.$t("password_recovery_send_mail")))])],1),t("v-divider",{staticClass:"mx-3"}),t("v-card-text",[t("router-link",{attrs:{to:{name:"password-reset",query:{email:e.emailToSubmit}}}},[e._v(" "+e._s(e.$t("password_recovery_enter_code"))+" ")]),t("v-spacer"),t("router-link",{attrs:{to:{name:"sign-in",query:{email:e.emailToSubmit}}}},[e._v(" "+e._s(e.$t("password_recovery_remembered"))+" ")])],1)],1)])],1)},s=[],i=(t("c975"),t("96cf"),t("1da1")),n=t("3a75"),o=t("4d05"),l={components:{Layout:o["a"]},props:{email:{type:String,default:""}},data:function(){return{valid:!1,errors:[],emailToSubmit:this.email||"",reminderSent:!1,fieldErrors:{email:!1}}},computed:{hasErrors:function(){return this.errors.length>0},emailRules:function(){var e=this;return[function(r){return!!r||e.$i18n.t("email_is_required")},function(r){return/.+@.+\..+/.test(r)||e.$i18n.t("no_valid_email")}]}},methods:{forgotPassword:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.$refs.form.validate()){r.next=13;break}return e.clearErrors(),r.prev=2,r.next=5,n["a"].postRequest("/user/reminder",{email:e.emailToSubmit});case 5:return t=r.sent,"reminder_sent"===t.data.message&&(e.reminderSent=!0),r.abrupt("return",t);case 10:r.prev=10,r.t0=r["catch"](2),r.t0.response?(console.log(r.t0.response),a=r.t0.response.data.message,("invalid_user"===a||a.indexOf("email")>-1)&&(e.fieldErrors.email=!0),e.errors.push({errorMessage:e.$i18n.t(a)})):e.errors.push({errorMessage:e.$i18n.t("Error")});case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()},clearErrors:function(){this.errors=[],this.fieldErrors.email=!1}}},d=l,u=t("2877"),c=t("6544"),m=t.n(c),v=t("0798"),p=t("8336"),_=t("99d9"),f=t("ce7e"),b=t("4bd4"),w=t("2fa4"),x=t("8654"),h=Object(u["a"])(d,a,s,!1,null,null,null);r["default"]=h.exports;m()(h,{VAlert:v["a"],VBtn:p["a"],VCardActions:_["a"],VCardText:_["b"],VDivider:f["a"],VForm:b["a"],VSpacer:w["a"],VTextField:x["a"]})}}]);